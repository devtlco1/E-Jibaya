<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>انقطاع الإنترنت - E-Jibaya</title>
  <style type="text/css"> 
    :root { 
      --background-color: #f8fafc; 
      --primary-color: #1e293b; 
      --secondary-color: #64748b;
      --accent-color: #3b82f6;
      --border-color: #e2e8f0;
      --button-bg: #3b82f6;
      --button-hover: #2563eb;
      --button-text: white;
    }
    
    [data-theme="dark"] { 
      --background-color: #0f172a; 
      --primary-color: #f1f5f9; 
      --secondary-color: #94a3b8;
      --accent-color: #60a5fa;
      --border-color: #334155;
      --button-bg: #3b82f6;
      --button-hover: #2563eb;
      --button-text: white;
    }
    
    [data-theme="light"] { 
      --background-color: #f8fafc; 
      --primary-color: #1e293b; 
      --secondary-color: #64748b;
      --accent-color: #3b82f6;
      --border-color: #e2e8f0;
      --button-bg: #3b82f6;
      --button-hover: #2563eb;
      --button-text: white;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html, body { 
      background-color: var(--background-color) !important; 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      height: 100vh;
      overflow: hidden;
    }
    
    .container { 
      color: var(--primary-color); 
      position: relative; 
      top: 50%;
      transform: translateY(-50%);
      text-align: center;
      padding: 2rem;
      max-width: 500px;
      margin: 0 auto;
    }
    
    .logo {
      margin-bottom: 2rem;
    }
    
    .logo svg {
      width: 120px;
      height: 120px;
      filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
    }
    
    #logo>svg>g>path { 
      fill: var(--accent-color); 
    }
    
    .title {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--primary-color);
    }
    
    .message {
      font-size: 1.1rem;
      color: var(--secondary-color);
      margin-bottom: 2rem;
      line-height: 1.6;
    }
    
    .retry-button { 
      padding: 12px 32px; 
      margin: 8px;
      background-color: var(--button-bg);
      color: var(--button-text);
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    .retry-button:hover {
      background-color: var(--button-hover);
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }
    
    .retry-button:active {
      transform: translateY(0);
    }
    
    .status-indicator {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
      padding: 0.5rem 1rem;
      background-color: var(--border-color);
      border-radius: 20px;
      font-size: 0.9rem;
      color: var(--secondary-color);
    }
    
    .status-dot {
      width: 8px;
      height: 8px;
      background-color: #ef4444;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }
    
    .tips {
      margin-top: 2rem;
      padding: 1rem;
      background-color: var(--border-color);
      border-radius: 8px;
      text-align: right;
    }
    
    .tips h3 {
      font-size: 1rem;
      margin-bottom: 0.5rem;
      color: var(--primary-color);
    }
    
    .tips ul {
      list-style: none;
      font-size: 0.9rem;
      color: var(--secondary-color);
    }
    
    .tips li {
      margin-bottom: 0.25rem;
      position: relative;
      padding-right: 1rem;
    }
    
    .tips li::before {
      content: "•";
      color: var(--accent-color);
      position: absolute;
      right: 0;
    }
    
    @media (max-width: 768px) {
      .container {
        padding: 1rem;
        top: 45%;
      }
      
      .title {
        font-size: 1.5rem;
      }
      
      .message {
        font-size: 1rem;
      }
      
      .logo svg {
        width: 100px;
        height: 100px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo" id="logo">
      <svg width="120" height="120" viewBox="0 0 120 96" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_5510_497)">
          <path d="M118.275 87.9562L7.27647 0.958312C6.45147 0.313687 5.47272 0 4.50522 0C3.17022 0 1.84459 0.592125 0.959779 1.72294C-0.575284 3.68062 -0.234596 6.51 1.72253 8.04187L112.554 94.8731C114.523 96.4112 117.348 96.0596 118.871 94.1085C120.581 92.325 120.225 89.4937 118.275 87.9562Z" fill="currentColor"/>
          <path opacity="0.4" d="M36 53.8313C32.6869 53.8313 30 56.5163 30 59.6625V89.4937C30 92.8069 32.6869 95.4937 36 95.4937C39.3131 95.4937 42 92.8069 42 89.4937V59.6625C42 56.6813 39.3187 53.8313 36 53.8313ZM54 90C54 93.3131 56.6869 96 60 96C63.3131 96 66 93.3131 66 90V69.8625L54 60.4575V90ZM12 71.8313C8.68687 71.8313 6 74.5163 6 77.6625V89.4937C6 92.8069 8.68687 95.4937 12 95.4937C15.3131 95.4937 18 92.8069 18 89.4937V77.6625C18 74.6813 15.3131 71.8313 12 71.8313ZM60 36C57.9937 36 56.325 37.0313 55.2375 38.55L66 46.9875V42C66 38.6812 63.3187 36 60 36ZM107.831 0C104.518 0 101.831 2.68687 101.831 6V75.2063L113.831 84.6113V6C113.831 2.68687 111.319 0 107.831 0ZM78 90C78 93.3131 80.6869 96 84 96C87.3131 96 90 93.3131 90 90V88.6684L78 79.2634V90ZM84 18C80.6869 18 78 20.6869 78 24V56.3813L90 65.7862V24C90 20.6812 87.3187 18 84 18Z" fill="currentColor"/>
        </g>
        <defs>
          <clipPath id="clip0_5510_497">
            <rect width="120" height="96" fill="white"/>
          </clipPath>
        </defs>
      </svg>
    </div>
    
    <div class="status-indicator">
      <div class="status-dot"></div>
      <span>غير متصل</span>
    </div>
    
    <h1 class="title">انقطاع الإنترنت</h1>
    
    <div class="message" id="message">
      <p>لا يوجد اتصال بالإنترنت<br/>يرجى التحقق من الاتصال والمحاولة مرة أخرى</p>
    </div>
    
    <button class="retry-button" id="retryButton" type="button" onclick="retryConnection()">
      إعادة المحاولة
    </button>
    
    <div class="tips">
      <h3>نصائح لحل المشكلة:</h3>
      <ul>
        <li>تحقق من اتصال Wi-Fi أو البيانات</li>
        <li>أعد تشغيل الراوتر</li>
        <li>تحقق من إعدادات الشبكة</li>
        <li>اتصل بمزود الخدمة</li>
      </ul>
    </div>
  </div>
  
  <script>
    var message = document.getElementById('message');
    var retryButton = document.getElementById('retryButton');
    
    // دعم اللغة العربية
    if (['ar', 'ar-sa', 'ar-ae', 'ar-eg', 'ar-jo', 'ar-kw', 'ar-lb', 'ar-om', 'ar-qa', 'ar-sy', 'ar-bh', 'ar-iq', 'ar-ly', 'ar-ma', 'ar-tn', 'ar-ye', 'ar-dz'].indexOf(navigator.language.toLowerCase()) > -1) {
      // العربية - النص موجود بالفعل
    } else if (['ko', 'ko-kr', 'ko-kp'].indexOf(navigator.language.toLowerCase()) > -1) {
      // الكورية
      message.innerHTML = '<p>인터넷 연결이 끊겼습니다.<br/>연결하고 다시 시도하시길 바랍니다.</p>';
      retryButton.innerText = '괜찮아';
    } else {
      // الإنجليزية (الافتراضية)
      message.innerHTML = '<p>No internet connection<br/>Check your connection and try again</p>';
      retryButton.innerText = 'Retry';
    }
    
    function updateDarkMode(){
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
      else {
        document.documentElement.setAttribute("data-theme", "light");
      } 
    }
    
    function retryConnection() {
      // محاولة إعادة تحميل الصفحة
      if (typeof gonative !== 'undefined' && gonative.webview) {
        gonative.webview.reload();
      } else {
        window.location.reload();
      }
    }
    
    // تحديث الوضع المظلم
    updateDarkMode();
    
    if(window.matchMedia){
      window.matchMedia('(prefers-color-scheme: dark)')
        .addEventListener('change', updateDarkMode);
    }
    
    // فحص الاتصال بشكل دوري
    function checkConnection() {
      if (navigator.onLine) {
        // إذا عاد الاتصال، أعد تحميل الصفحة
        window.location.reload();
      }
    }
    
    // فحص الاتصال كل 3 ثوان
    setInterval(checkConnection, 3000);
    
    // الاستماع لتغييرات حالة الاتصال
    window.addEventListener('online', function() {
      window.location.reload();
    });
    
    window.addEventListener('offline', function() {
      // الصفحة مخصصة لحالة عدم الاتصال
    });
  </script>
</body>
</html>
